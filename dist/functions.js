document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",()=>{const t=document.getElementById("mainHeader").clientHeight;window.scrollY>105?(document.getElementById("mainHeader").classList.add("main-header-fixed"),document.getElementById("mainRow").setAttribute("style",`padding-top: ${t}px;`)):(document.getElementById("mainHeader").classList.remove("main-header-fixed"),document.getElementById("mainRow").setAttribute("style","padding-top: 0px;"))}),window.addEventListener("resize",()=>{document.getElementById("mainHeader").clientWidth>768&&(document.getElementById("mobileMenu").classList.remove("mobile-menu-container-open"),document.getElementById("hamburger").classList.remove("open"))})});document.getElementById("hamburger").addEventListener("click",t=>{t.preventDefault(),document.getElementById("hamburger").classList.toggle("open"),document.getElementById("mobileMenu").classList.toggle("mobile-menu-container-open")});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".archive-filter a"),n=document.querySelector(".archive-grid");!n||t.length===0||t.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const r=e.getAttribute("data-filter");t.forEach(s=>s.classList.remove("active")),e.classList.add("active"),Array.from(n.children).forEach(s=>{r==="all"||s.classList.contains(r)?s.classList.remove("hidden"):s.classList.add("hidden")})})})});let a=!0,d=document.getElementById("contactForm"),i=document.getElementById("submitForm");function l(){console.log("Functions Correctly Loaded"),d&&i.addEventListener("click",function(t){t.preventDefault(),a=!0;var n=document.getElementById("formName"),e=document.getElementById("errorName");n.value==""?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.error_nombre,a=!1):n.value==""?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.invalid_nombre,a=!1):(e.classList.add("hidden"),e.innerHTML="",a=!0);var n=document.getElementById("formPhone"),e=document.getElementById("errorPhone");n.value==""?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.error_phone,a=!1):v(n.value)==!1?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.invalid_phone,a=!1):(e.classList.add("hidden"),e.innerHTML="",a=!0);var n=document.getElementById("formEmail"),e=document.getElementById("errorEmail");n.value==""?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.error_email,a=!1):u(n.value)==!1?(e.classList.remove("hidden"),e.innerHTML=custom_admin_url.invalid_email,a=!1):(e.classList.add("hidden"),e.innerHTML="",a=!0),a==!0&&m()})}document.addEventListener("DOMContentLoaded",l,!1);function m(){var t=document.getElementsByClassName("form-control"),n="action=send_message&form_name="+t[0].value+"&form_phone="+t[1].value+"&form_email="+t[2].value+"&form_message="+t[3].value,e=document.getElementsByClassName("loader-css");e[0].classList.toggle("hidden"),e[0].classList.toggle("block"),newRequest=new XMLHttpRequest,newRequest.open("POST",custom_admin_url.ajax_url,!0),newRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),newRequest.onload=function(){e[0].classList.toggle("hidden"),e[0].classList.toggle("block");var o=JSON.parse(newRequest.response),r=document.getElementById("formResponse");c(`Hello, a new message has been sent from your website!
Name: `+t[0].value+`
Phone: `+t[1].value+`
Email: `+t[2].value+`
Message: `+t[3].value),r.innerHTML=o.data,gtag("event","form_submit",{event_category:"form",event_label:"submit"})},newRequest.send(n)}function c(t){var n=new XMLHttpRequest;n.open("POST",custom_admin_url.discord_webhook),n.setRequestHeader("Content-type","application/json");var e={username:"Website",avatar_url:"",content:t};n.send(JSON.stringify(e))}function u(t){var n=/\S+@\S+\.\S+/;return n.test(t)}function v(t){var n=new RegExp(/^(\+{0,})(\d{0,})([(]{1}\d{1,3}[)]{0,}){0,}(\s?\d+|\+\d{2,3}\s{1}\d+|\d+){1}[\s|-]?\d+([\s|-]?\d+){1,2}(\s){0,}$/gm);return n.test(t)}
